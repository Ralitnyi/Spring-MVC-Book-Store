<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/springsecurity6"
  lang="en"
  th:replace="~{layout :: layout}"
>
  <head>
    <title>Create Employee</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const forms = document.getElementsByClassName("needs-validation");
        Array.prototype.filter.call(forms, function (form) {
          form.addEventListener(
            "submit",
            function (event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      });
    </script>
  </head>
  <body>
    <div th:fragment="content">
      <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-7">
          <div class="card shadow-sm">
            <div class="card-body">
              <h1 class="h4 mb-4">Create Employee</h1>
              <form
                class="needs-validation"
                novalidate
                th:action="@{/admin/employee}"
                th:object="${employee}"
                method="post"
              >
                <input
                  type="hidden"
                  th:name="${_csrf.parameterName}"
                  th:value="${_csrf.token}"
                />
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    th:field="*{email}"
                    required
                    maxlength="255"
                  />
                  <div
                    class="invalid-feedback d-block"
                    th:if="${#fields.hasErrors('email')}"
                    th:errors="*{email}"
                  ></div>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    th:field="*{password}"
                    required
                    minlength="6"
                    maxlength="255"
                  />
                  <div class="form-text">At least 6 characters.</div>
                  <div
                    class="invalid-feedback d-block"
                    th:if="${#fields.hasErrors('password')}"
                    th:errors="*{password}"
                  ></div>
                </div>
                <div class="mb-3">
                  <label for="name" class="form-label">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    th:field="*{name}"
                    required
                    maxlength="255"
                  />
                  <div
                    class="invalid-feedback d-block"
                    th:if="${#fields.hasErrors('name')}"
                    th:errors="*{name}"
                  ></div>
                </div>
                <div class="mb-3">
                  <label for="phone" class="form-label">Phone</label>
                  <input
                    type="tel"
                    class="form-control"
                    id="phone"
                    th:field="*{phone}"
                    maxlength="20"
                    pattern="^[+]?[0-9\s\-()]{10,20}$"
                  />
                  <div class="form-text">
                    Format: +1234567890 or 123-456-7890
                  </div>
                  <div
                    class="invalid-feedback d-block"
                    th:if="${#fields.hasErrors('phone')}"
                    th:errors="*{phone}"
                  ></div>
                </div>
                <div class="mb-3">
                  <label for="birthDate" class="form-label">Birth Date</label>
                  <input
                    type="date"
                    class="form-control"
                    id="birthDate"
                    th:field="*{birthDate}"
                  />
                  <div
                    class="invalid-feedback d-block"
                    th:if="${#fields.hasErrors('birthDate')}"
                    th:errors="*{birthDate}"
                  ></div>
                </div>
                <button type="submit" class="btn btn-primary">
                  Create Employee
                </button>
                <a th:href="@{/client/profile}" class="btn btn-secondary ms-2"
                  >Back</a
                >
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
